<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>content</title>
     <script type="text/javascript" src="https://likeheart.cn/Resources/js/digit.js"></script>
    <link type="text/css" rel="stylesheet" href="https://likeheart.cn/Resources/css/content.css" />
</head>
<body>
    <div class="div-content">
        <br />
        空中飞过的不是鸟 水中游荡的亦非鱼
        <br />
        <div class="div-canvas" style="float:right"><canvas id="CanvasTime">当前浏览器不支持canvas，请更换浏览器后再试</canvas></div>
        <div class="clear"></div>
        <div class="div-canvas">
            <div id="div-dui-left"><ul><li>我</li><li>是</li><li>敬</li><li>业</li><li>福</li></ul></div>
            <canvas id="luck" width="180" height="170">当前浏览器不支持canvas，请更换浏览器后再试</canvas>
            <div id="div-dui-right"><ul><li>不</li><li>信</li><li>扫</li><li>扫</li><li>看</li></ul></div>
            <br />
            <div class="clear"></div>
        </div>
        <div style="text-align:center">
            <canvas id="canvas" width="800" height="200">当前浏览器不支持canvas，请更换浏览器后再试</canvas>
        </div>
        <script>
            var canvas = document.getElementById('canvas');
            //存储画布宽高
            var H = 200, W = 800;
            //存储小球个数
            var NUM = 12;
            //存储小球
            var balls = [];
            getBalls();
            function getBalls() {
                canvas.height = H;
                if (canvas.getContext) {
                    var cxt = canvas.getContext('2d');

                    for (var i = 0; i < NUM; i++) {
                        var tempR = Math.floor(Math.random() * 255);
                        var tempG = Math.floor(Math.random() * 255);
                        var tempB = Math.floor(Math.random() * 255);
                        var tempColor = 'rgb(' + tempR + ',' + tempG + ',' + tempB + ')';
                        var tempL = Math.floor(Math.random() * 30 + 20);
                        var tempX = Math.floor(Math.random() * (W - tempL * 2) + tempL);
                        var tempY = Math.floor(Math.random() * (H - tempL * 2) + tempL);
                        cxt.fillStyle = tempColor;
                        cxt.beginPath();
                        cxt.arc(tempX, tempY, tempL, 0, Math.PI * 2);
                        cxt.fill();

                        var tempBall = {
                            x: tempX,
                            y: tempY,
                            r: tempL,
                            stepX: Math.floor(Math.random() * 4 - 1),
                            stepY: Math.floor(Math.random() * 4 - 1),
                            color: tempColor,
                        };
                        balls.push(tempBall);
                    }
                }
            }

            function updateBalls() {
                for (var i = 0; i < balls.length; i++) {
                    balls[i].x += balls[i].stepX;
                    balls[i].y += balls[i].stepY;
                    bumpTest(balls[i]);
                }
            }

            function bumpTest(ele) {
                //左侧
                if (ele.x <= ele.r) {
                    ele.x = ele.r;
                    ele.stepX = -ele.stepX;
                }
                //右侧
                if (ele.x >= W - ele.r) {
                    ele.x = W - ele.r;
                    ele.stepX = -ele.stepX;
                }
                //上侧
                if (ele.y <= ele.r) {
                    ele.y = ele.r;
                    ele.stepY = -ele.stepY;
                }
                //下侧
                if (ele.y >= H - ele.r) {
                    ele.y = H - ele.r;
                    ele.stepY = -ele.stepY;
                }
            }

            function renderBalls() {
                //重置画布高度，达到清空画布的效果
                canvas.height = H;
                if (canvas.getContext) {
                    var cxt = canvas.getContext('2d');
                    for (var i = 0; i < balls.length; i++) {
                        cxt.beginPath();
                        cxt.arc(balls[i].x, balls[i].y, balls[i].r, 0, 2 * Math.PI);
                        cxt.fillStyle = balls[i].color;
                        cxt.globalCompositeOperation = 'lighter';
                        cxt.closePath();
                        cxt.fill();
                    }
                }

            }
            var oTimer = setInterval(function () {
                //更新小球运动状态
                updateBalls();
                //渲染小球
                renderBalls();
            }, 50);
        </script>
        <script type="text/javascript">

            //-----------------------福 BEGIN-----------------
            var tangramLuck = [
{ p: [{ x: 28, y: 8 }, { x: 37, y: 0 }, { x: 43, y: 29 }, { x: 33, y: 37 }], color: "#caff67" },
{ p: [{ x: 16, y: 40 }, { x: 55, y: 40 }, { x: 55, y: 50 }, { x: 16, y: 50 }], color: "#67becf" },
{ p: [{ x: 45, y: 51 }, { x: 55, y: 51 }, { x: 30, y: 100 }, { x: 20, y: 100 }], color: "#ef3d61" },
{ p: [{ x: 35, y: 92 }, { x: 45, y: 70 }, { x: 45, y: 160 }, { x: 35, y: 160 }], color: "#f9f51a" },
{ p: [{ x: 45, y: 70 }, { x: 55, y: 92 }, { x: 49, y: 90 }, { x: 45, y: 80 }], color: "#a54c09" },
            //----------------------福 右侧----------------------
{ p: [{ x: 80, y: 30 }, { x: 140, y: 30 }, { x: 140, y: 40 }, { x: 80, y: 40 }], color: "#fa8ccc" },
{ p: [{ x: 85, y: 50 }, { x: 135, y: 50 }, { x: 135, y: 90 }, { x: 85, y: 90 }], color: "#ef3d61" },
{ p: [{ x: 95, y: 60 }, { x: 125, y: 60 }, { x: 125, y: 80 }, { x: 95, y: 80 }], color: "#f6f3f3" },
{ p: [{ x: 70, y: 100 }, { x: 150, y: 100 }, { x: 150, y: 160 }, { x: 70, y: 160 }], color: "#67becf" },
{ p: [{ x: 80, y: 110 }, { x: 140, y: 110 }, { x: 140, y: 150 }, { x: 80, y: 150 }], color: "#f6f3f3" },
{
    p: [
        { x: 105, y: 110 }, { x: 115, y: 110 }, { x: 115, y: 125 }, { x: 140, y: 125 },
        { x: 140, y: 135 }, { x: 115, y: 135 }, { x: 115, y: 150 }, { x: 105, y: 150 },
        { x: 105, y: 135 }, { x: 80, y: 135 }, { x: 80, y: 125 }, { x: 105, y: 125 }
    ], color: "#caff67"
},
            ];
            var canvasLuck = document.querySelector("luck"); //获取canvas元素

            var contextLuck = luck.getContext("2d");  //获取绘图上下文环境

            for (var i = 0; i < tangramLuck.length; i++) {
                drawLuck(contextLuck, tangramLuck[i]);
            };
            function drawLuck(ctxt, piece) {
                ctxt.beginPath();  //开始路径
                ctxt.moveTo(piece.p[0].x, piece.p[0].y);  //canvas画笔移动到目标点
                for (var i = 1; i < piece.p.length; i++) {
                    ctxt.lineTo(piece.p[i].x, piece.p[i].y);  //canvas画笔依次绘制路径点
                };
                ctxt.closePath();  //闭合路径
                ctxt.fillStyle = piece.color; //填充颜色
                ctxt.stroke();
                ctxt.fill(); //图形的填充
            }
            //------------------------福 END-----------------

        </script>

    </div>
</body>
</html>
